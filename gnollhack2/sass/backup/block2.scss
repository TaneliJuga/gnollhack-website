@use "sass:math";
@use "sass:selector";
@use "sass:string";
@use "../variables";
$border-size-m: 40px;
$border-size-s: 30px;

//configures how much the border-image will overlap (be on top of) the border-box.
//helps remove gaps between the border-image and the edges of the border-box.
$border-overlap-factor: 0.1;
//configures the minimum amount of pixels that the border-image will overlap the border-box.
$min-border-overlap: 3px;

$border-image_bronze: url(/media/b50fbr0r/gnollhack-icon-v10.png) 80 84 82 85 stretch;
$border-image_scroll: url(/media/clhdyisu/scroll_paper.png) 300 356 323 332 round;

$block-name: "block";

@mixin setBorder($border-image, $border-size, $remove-top: false, $remove-right: false, $remove-bottom: false, $remove-left: false) {
    @if($border-image) {
        border-image: $border-image;
        background-clip: border-box;
        border-width: $border-size;

        $border-image-offset: math.max($min-border-overlap, ($border-overlap-factor * $border-size));
        $border-image-outset: ($border-size - $border-image-offset);
        border-image-outset: $border-image-outset;
        margin: if($remove-top, 0, $border-image-outset) if($remove-right, 0, $border-image-outset) if($remove-bottom, 0, $border-image-outset) if($remove-left, 0, $border-image-outset);

        > * {
            margin: if($remove-top, 0, -$border-image-outset) if($remove-right, 0, -$border-image-outset) if($remove-bottom, 0, -$border-image-outset) if($remove-left, 0, -$border-image-outset);
        }
    }
}

@mixin extendParent(){

}

#{"%#{$block-name}"} {
    text-align: center;
    border: solid transparent;
    font-size: 16px;
    font-family: variables.$writing-font;
    color: variables.$gold;
    // Background modifier
    // Sets the background of the block
    &_bg_wood {
        background-image: url(/media/uv3juqsv/woodalbedo2.png);
    }

    &_bg_scroll {
        background-color: #efe4b3;
    }
    /*selector.extend(#{&__style_navbar}, $extendee, $extender) {
    }*/
}


#{"#{$block-name}__style_navbar"} {
    @extend #{$block-name};
    /*@extend .block_pos_top;
    @extend .block_border_bronze;
    @extend .block_border_size_m;*/
    @extend #{"#{$block-name}__style_navbar"};
    @include setBorder($border-image_bronze, $border-size-m, $remove-top: true);
}

/*@debug #{string.slice(#{&}, $start-at: 0, $end-at: (string.length(#{&}) - string.length("__style_navbar")))};
$root: #{string.slice(#{&}, $start-at: 0, $end-at: (string.length(#{&}) - string.length("__style_navbar")))};
@extend #{$root};
@extend .block_pos_top;
@extend .block_border_bronze;
@extend .block_border_size_m;
@extend #{"#{$root}_bg_scroll"};
@include setBorder($border-image_bronze, $border-size-m, $remove-top: true);*/